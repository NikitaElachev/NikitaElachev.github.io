<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>История заказов - Food Construct</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="form-styles.css"> <!-- Для модального окна редактирования -->
    <link rel="stylesheet" href="orders.css">
</head>
<body>
    <header class="header">
    <div class="container">
        <h1>Food Construct</h1>
        <nav>
            <a href="landing.html">Главная</a>
            <a href="index.html">О нас</a>
            <a href="lunch.html">Собрать ланч</a>
            <a href="order.html">Оформить заказ</a>
            <a href="orders.html" id="active">Заказы</a>
            <a href="#contacts">Контакты</a>
        </nav>
    </div>
    </header>

    <main class="main">
        <div class="container">
            <section class="orders-section">
                <h2>История заказов</h2>
                
                <div class="table-wrapper">
                    <table class="orders-table">
                        <thead>
                            <tr>
                                <th>№</th>
                                <th>Дата оформления</th>
                                <th>Состав заказа</th>
                                <th>Стоимость</th>
                                <th>Время доставки</th>
                                <th>Действия</th>
                            </tr>
                        </thead>
                        <tbody id="orders-tbody">
                            <!-- Сюда JS добавит строки -->
                        </tbody>
                    </table>
                </div>
                <p id="no-orders-msg" style="display:none; text-align: center;">История заказов пуста.</p>
            </section>
        </div>
    </main>

    <!-- Модальное окно: Просмотр (View) -->
    <div class="modal" id="view-modal">
        <div class="modal-content">
            <span class="close-btn" data-modal="view-modal">&times;</span>
            <h3>Детали заказа</h3>
            
            <div class="modal-info-grid">
                <p><strong>Дата оформления:</strong> <span id="view-date"></span></p>
                
                <h4>Данные о доставке</h4>
                <p><strong>Имя:</strong> <span id="view-name"></span></p>
                <p><strong>Адрес:</strong> <span id="view-address"></span></p>
                <p><strong>Телефон:</strong> <span id="view-phone"></span></p>
                <p><strong>Email:</strong> <span id="view-email"></span></p>
                <p><strong>Время доставки:</strong> <span id="view-time"></span></p>

                <h4>Комментарий</h4>
                <p id="view-comment">Нет комментария</p>

                <h4>Состав заказа</h4>
                <ul id="view-dishes-list"></ul>
                
                <div class="modal-total-cost">
                    <span>Итого:</span>
                    <span id="view-total">0Р</span>
                </div>
            </div>

            <div class="modal-footer">
                <button class="btn btn-secondary close-action" data-modal="view-modal">ОК</button>
            </div>
        </div>
    </div>

    <!-- Модальное окно: Удаление (Delete) -->
    <div class="modal" id="delete-modal">
        <div class="modal-content small-modal">
            <span class="close-btn" data-modal="delete-modal">&times;</span>
            <h3>Удаление заказа</h3>
            <p>Вы уверены, что хотите удалить этот заказ? Отменить это действие будет невозможно.</p>
            <div class="modal-footer">
                <button class="btn btn-secondary close-action" data-modal="delete-modal">Отмена</button>
                <button class="btn btn-danger" id="confirm-delete-btn">Да, удалить</button>
            </div>
        </div>
    </div>

    <!-- Модальное окно: Редактирование (Edit) -->
    <div class="modal" id="edit-modal">
        <div class="modal-content">
            <span class="close-btn" data-modal="edit-modal">&times;</span>
            <h3>Редактирование заказа</h3>
            
            <form id="edit-form" class="order-form" style="padding: 0; box-shadow: none;">
                <!-- Данные подгружаются скриптом -->
                <div class="form-block" style="width: 100%;">
                    <div class="form-group">
                        <label for="edit-name">Имя</label>
                        <input type="text" id="edit-name" name="full_name" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-email">Email</label>
                        <input type="email" id="edit-email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-phone">Телефон</label>
                        <input type="tel" id="edit-phone" name="phone" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-address">Адрес доставки</label>
                        <input type="text" id="edit-address" name="delivery_address" required>
                    </div>
                    
                    <div class="form-group radio-group">
                        <label>Время доставки:</label>
                        <div>
                            <input type="radio" id="edit-asap" name="delivery_type" value="now">
                            <label for="edit-asap">Как можно скорее</label>
                        </div>
                        <div>
                            <input type="radio" id="edit-time" name="delivery_type" value="by_time">
                            <label for="edit-time">К указанному времени</label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-delivery-time">Время доставки</label>
                        <input type="time" id="edit-delivery-time" name="delivery_time" min="07:00" max="23:00" step="300">
                    </div>

                    <div class="form-group">
                        <label for="edit-comment">Комментарий</label>
                        <textarea id="edit-comment" name="comment" rows="3"></textarea>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary close-action" data-modal="edit-modal">Отмена</button>
                    <button type="submit" class="btn btn-submit">Сохранить</button>
                </div>
            </form>
        </div>
    </div>

    <footer class="footer" id="contacts">
        <div class="container">
            <p>Позвонить нам <a href="tel:+79124613559">+7-912-461-35-59</a></p>
        </div>
    </footer>

    <script src="orders-scripts.js"></script>
</body>
</html>